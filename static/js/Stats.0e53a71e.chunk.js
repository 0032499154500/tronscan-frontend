webpackJsonp([15],{1088:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(l,r){try{var s=t[l](r),c=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}return n("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{priceGraph:e.markets.price}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),u=n(o),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=a(0),f=n(m),v=a(70),p=n(v),h=a(9),S=a(10),y=a(36),E=a(11),b=a(14),k=a(19),g=a(1217),w=a(30),N=a(418),_=a(416),x=function(e){function t(){r(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={accounts:null,transactionStats:null,blockStats:null,transactionValueStats:null,txOverviewStats:null,addressesStats:null,blockSizeStats:null,blockchainSizeStats:null,priceStats:null,volume:null},e}return c(t,e),d(t,[{key:"componentDidMount",value:function(){this.loadAccounts(),this.loadStats(),this.loadTxOverviewStats()}},{key:"loadAccounts",value:function(){function e(){return t.apply(this,arguments)}var t=l(u.default.mark(function e(){var t,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Client.getAccounts({limit:35,sort:"-balance"});case 2:t=e.sent,a=t.accounts,this.setState({accounts:(0,k.filter)(a,function(e){return!(0,k.includes)(g.tronAddresses,e.address)}).slice(0,10).map(function(e){return{name:e.address,value:e.balance/y.ONE_TRX}})});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadStats",value:function(){function e(){return t.apply(this,arguments)}var t=l(u.default.mark(function e(){var t,a,n,l,r,s,c;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.intl,e.next=3,S.Client.getTransferStats({groupby:"timestamp",interval:"hour"});case 3:return a=e.sent,n=a.stats,e.next=7,S.Client.getBlockStats({info:"avg-block-size"});case 7:l=e.sent,r=l.stats,s=n.total.map(function(e){return{timestamp:e.timestamp,value:e.value}}),c=n.value.map(function(e){return{timestamp:e.timestamp,value:e.value/y.ONE_TRX}}),r=r.map(function(e){return{timestamp:e.timestamp,value:e.value}}),this.setState({transactionStats:s,transactionValueStats:c,blockStats:r});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadTxOverviewStats",value:function(){function e(){return t.apply(this,arguments)}var t=l(u.default.mark(function e(){var t,a,n,l,r,s,c,i,o,d,m,f,v,h,y,E,b,k,g,w;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.intl,a=new Date,n=a.getTime(),l=new Date("2017/10/10"),r=l.getTime(),s=Math.floor((n-r)/1e3/3600/24),e.next=8,p.default.get("https://min-api.cryptocompare.com/data/histoday?fsym=TRX&tsym=USD&limit="+s);case 8:return c=e.sent,i=c.data,o=i.Data,e.next=13,p.default.get("https://cors.io/?https://graphs2.coinmarketcap.com/currencies/tron/");case 13:return d=e.sent,m=d.data.volume_usd,f=m.map(function(e,a){return{time:e[0],volume_billion:e[1]/Math.pow(10,9),volume_usd:t.formatNumber(e[1])+" USD"}}),e.next=18,S.Client.getTxOverviewStats();case 18:v=e.sent,h=v.txOverviewStats,y=[],E=[],b=[],k=[];for(g in h)w=parseInt(g),0===w?(y.push(h[w]),E.push({date:h[w].date,total:h[w].newAddressSeen,increment:h[w].newAddressSeen})):(y.push({date:h[w].date,totalTransaction:h[w].totalTransaction-h[w-1].totalTransaction,avgBlockTime:h[w].avgBlockTime,avgBlockSize:h[w].avgBlockSize,totalBlockCount:h[w].totalBlockCount-h[w-1].totalBlockCount,newAddressSeen:h[w].newAddressSeen}),E.push({date:h[w].date,total:h[w].newAddressSeen+E[w-1].total,increment:h[w].newAddressSeen})),b.push({date:h[w].date,avgBlockSize:h[w].avgBlockSize}),k.push({date:h[w].date,blockchainSize:h[w].blockchainSize});this.setState({txOverviewStats:y,addressesStats:E,blockSizeStats:b,blockchainSizeStats:k,priceStats:o,volume:f});case 26:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this.state,t=e.txOverviewStats,a=e.addressesStats,n=(e.transactionStats,e.transactionValueStats,e.blockStats,e.accounts,e.blockSizeStats),l=e.blockchainSizeStats,r=e.priceStats,s=e.volume,c=this.props.intl;return f.default.createElement("main",{className:"container header-overlap"},f.default.createElement("div",{className:"text-center alert alert-light alert-dismissible fade show",role:"alert"},(0,h.tu)("click_the_chart_title_to_find_more"),f.default.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},f.default.createElement("span",{"aria-hidden":"true"},"\xd7"))),f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-6 mt-3 mt-md-0"},f.default.createElement("div",{className:"card"},f.default.createElement("div",{className:"card-body"},f.default.createElement("div",{style:{height:350}},null===t?f.default.createElement(w.TronLoader,null):f.default.createElement(N.LineReactTx,{style:{height:350},data:t,intl:c}))))),f.default.createElement("div",{className:"col-md-6 mt-3 mt-md-0"},f.default.createElement("div",{className:"card"},f.default.createElement("div",{className:"card-body"},f.default.createElement("div",{style:{height:350}},null===a?f.default.createElement(w.TronLoader,null):f.default.createElement(N.LineReactAdd,{style:{height:350},data:a,intl:c})))))),f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-6 mt-3"},f.default.createElement("div",{className:"card"},f.default.createElement("div",{className:"card-body"},f.default.createElement("div",{style:{height:350}},null===n?f.default.createElement(w.TronLoader,null):f.default.createElement(N.LineReactBlockSize,{style:{height:350},data:n,intl:c}))))),f.default.createElement("div",{className:"col-md-6 mt-3"},f.default.createElement("div",{className:"card"},f.default.createElement("div",{className:"card-body"},f.default.createElement("div",{style:{height:350}},null===l?f.default.createElement(w.TronLoader,null):f.default.createElement(N.LineReactBlockchainSize,{style:{height:350},data:l,intl:c})))))),f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:"col-md-6 mt-3"},f.default.createElement("div",{className:"card"},f.default.createElement("div",{className:"card-body"},f.default.createElement("div",{style:{height:350}},null===r?f.default.createElement(w.TronLoader,null):f.default.createElement(N.LineReactPrice,{style:{height:350},data:r,intl:c}))))),f.default.createElement("div",{className:"col-md-6 mt-3"},f.default.createElement("div",{className:"card"},f.default.createElement("div",{className:"card-body"},f.default.createElement("div",{style:{height:350}},null===s?f.default.createElement(w.TronLoader,null):f.default.createElement(N.LineReactVolumeUsd,{style:{height:350},data:s,intl:c})))))))}}]),t}(f.default.Component),T={loadPriceData:_.loadPriceData};t.default=(0,E.connect)(i,T)((0,b.injectIntl)(x))},1217:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.tronAddresses=["27d3byPxZXKQWfXX7sJvemJJuv5M65F3vjS","27fXgQ46DcjEsZ444tjZPKULcxiUfDrDjqj","27SWXcHuQgFf9uv49FknBBBYBaH3DUk4JPx","27WtBq2KoSy5v8VnVZBZHHJcDuWNiSgjbE3"]}});
//# sourceMappingURL=Stats.0e53a71e.chunk.js.map