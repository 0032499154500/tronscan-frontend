{"version":3,"sources":["../static/js/Accounts.73546701.chunk.js","components/Accounts.js","components/common/Icon.js"],"names":["webpackJsonp","1107","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","mapStateToProps","state","accounts","app","defineProperty","_regenerator","_regenerator2","_extends","assign","target","i","length","source","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react","_react2","_reactRedux","_app","_i18n","_reactIntl","_lodash","_Links","_Paging","_Paging2","_api","_constants","_reactSticky","_Price","_Icon","Accounts","_Component","_this2","_this","getPrototypeOf","loadAccounts","_ref","mark","_callee","_ref2","total","page","undefined","pageSize","wrap","_context","prev","next","setState","loading","Client","getAccounts","sort","limit","start","sent","stop","onChange","onSearchFieldChangeHandler","e","searchString","toUpperCase","filter","a","address","indexOf","createElement","Fragment","className","tu","map","account","index","AddressLink","FormattedNumber","balance","ONE_TRX","CIRCULATING_SUPPLY","minimumFractionDigits","maximumFractionDigits","power","TRXPrice","amount","_this3","match","_state","WidgetIcon","StickyContainer","Sticky","_ref3","style","zIndex","url","renderAccounts","Component","mapDispatchToProps","connect","injectIntl","1154","_objectWithoutProperties","keys"],"mappings":"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","file":"static/js/Accounts.73546701.chunk.js","sourcesContent":["webpackJsonp([17],{\n\n/***/ 1107:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _regenerator=__webpack_require__(4);var _regenerator2=_interopRequireDefault(_regenerator);var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactRedux=__webpack_require__(11);var _app=__webpack_require__(47);var _i18n=__webpack_require__(10);var _reactIntl=__webpack_require__(14);var _lodash=__webpack_require__(18);var _Links=__webpack_require__(19);var _Paging=__webpack_require__(61);var _Paging2=_interopRequireDefault(_Paging);var _api=__webpack_require__(7);var _constants=__webpack_require__(36);var _reactSticky=__webpack_require__(48);var _Price=__webpack_require__(51);var _Icon=__webpack_require__(1154);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Accounts=function(_Component){_inherits(Accounts,_Component);function Accounts(){var _this2=this;_classCallCheck(this,Accounts);var _this=_possibleConstructorReturn(this,(Accounts.__proto__||Object.getPrototypeOf(Accounts)).call(this));_this.loadAccounts=function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regenerator2.default.mark(function _callee(){var page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var pageSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:40;var _ref2,accounts,total;return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});_context.next=3;return _api.Client.getAccounts({sort:'-balance',limit:pageSize,start:(page-1)*pageSize});case 3:_ref2=_context.sent;accounts=_ref2.accounts;total=_ref2.total;_this.setState({loading:false,accounts:accounts,total:total});case 7:case\"end\":return _context.stop();}}},_callee,_this2);}));return function(){return _ref.apply(this,arguments);};}();_this.onChange=function(page,pageSize){_this.loadAccounts(page,pageSize);};_this.onSearchFieldChangeHandler=function(e){_this.setState({searchString:e.target.value});};_this.state={loading:true,searchString:\"\",accounts:[],total:0};return _this;}_createClass(Accounts,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadAccounts();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){//checkPageChanged(this, this.loadAccounts);\n}},{key:\"filteredAccounts\",value:function filteredAccounts(){var accounts=this.props.accounts;var searchString=this.state.searchString;searchString=searchString.toUpperCase();if(searchString.length>0){accounts=(0,_lodash.filter)(accounts,function(a){return a.address.toUpperCase().indexOf(searchString)!==-1;});}return accounts;}},{key:\"renderAccounts\",value:function renderAccounts(){var accounts=this.state.accounts;if(accounts.length===0){return;}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(\"table\",{className:\"table table-striped m-0\"},_react2.default.createElement(\"thead\",{className:\"thead-dark\"},_react2.default.createElement(\"tr\",null,_react2.default.createElement(\"th\",null,(0,_i18n.tu)(\"address\")),_react2.default.createElement(\"th\",{className:\"d-none d-md-table-cell\"},(0,_i18n.tu)(\"supply\")),_react2.default.createElement(\"th\",{className:\"d-none d-md-table-cell\"},(0,_i18n.tu)(\"power\")),_react2.default.createElement(\"th\",null,(0,_i18n.tu)(\"balance\")))),_react2.default.createElement(\"tbody\",null,accounts.map(function(account,index){return _react2.default.createElement(\"tr\",{key:account.address},_react2.default.createElement(\"th\",null,_react2.default.createElement(_Links.AddressLink,{address:account.address})),_react2.default.createElement(\"td\",{className:\"d-none d-md-table-cell text-nowrap\"},_react2.default.createElement(_reactIntl.FormattedNumber,{value:account.balance/_constants.ONE_TRX/_constants.CIRCULATING_SUPPLY*100,minimumFractionDigits:8,maximumFractionDigits:8}),\" %\"),_react2.default.createElement(\"td\",{className:\"text-nowrap d-none d-md-table-cell\"},_react2.default.createElement(_reactIntl.FormattedNumber,{value:account.power/_constants.ONE_TRX})),_react2.default.createElement(\"td\",{className:\"text-nowrap\"},_react2.default.createElement(_Price.TRXPrice,{amount:account.balance/_constants.ONE_TRX})));}))));}},{key:\"render\",value:function render(){var _this3=this;var match=this.props.match;var _state=this.state,total=_state.total,loading=_state.loading;return _react2.default.createElement(\"main\",{className:\"container header-overlap pb-3\"},_react2.default.createElement(\"div\",{className:\"row\"},_react2.default.createElement(\"div\",{className:\"col-md-12\"},_react2.default.createElement(\"div\",{className:\"card h-100 text-center widget-icon\"},_react2.default.createElement(_Icon.WidgetIcon,{className:\"fa fa-users text-secondary\"}),_react2.default.createElement(\"div\",{className:\"card-body\"},_react2.default.createElement(\"h3\",{className:\"text-primary\"},_react2.default.createElement(_reactIntl.FormattedNumber,{value:total})),(0,_i18n.tu)(\"total_accounts\"))))),_react2.default.createElement(\"div\",{className:\"row mt-2\"},_react2.default.createElement(\"div\",{className:\"col-md-12\"},_react2.default.createElement(_reactSticky.StickyContainer,null,_react2.default.createElement(\"div\",{className:\"card mt-1\"},_react2.default.createElement(_reactSticky.Sticky,null,function(_ref3){var style=_ref3.style;return _react2.default.createElement(\"div\",{className:\"card-body bg-white py-3 border-bottom\",style:_extends({zIndex:100},style)},_react2.default.createElement(_Paging2.default,{onChange:_this3.onChange,url:match.url,total:total,loading:loading}));}),this.renderAccounts())))));}}]);return Accounts;}(_react.Component);function mapStateToProps(state){return{accounts:state.app.accounts};}var mapDispatchToProps={loadAccounts:_app.loadAccounts};exports.default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)((0,_reactIntl.injectIntl)(Accounts));\n\n/***/ }),\n\n/***/ 1154:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.WidgetIcon=WidgetIcon;var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function WidgetIcon(_ref){var className=_ref.className,props=_objectWithoutProperties(_ref,[\"className\"]);return _react2.default.createElement(\"span\",Object.assign({className:\"icon-big\"},props),_react2.default.createElement(\"i\",{className:\" fa-7x \"+className}));}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/Accounts.73546701.chunk.js","import React, {Component, Fragment} from 'react';\nimport {connect} from \"react-redux\";\nimport {loadAccounts} from \"../actions/app\";\nimport {tu} from \"../utils/i18n\";\nimport {FormattedNumber, injectIntl} from \"react-intl\";\nimport {filter} from \"lodash\";\nimport {AddressLink} from \"./common/Links\";\nimport Paging from \"./common/Paging\";\nimport {Client} from \"../services/api\";\nimport {CIRCULATING_SUPPLY, ONE_TRX} from \"../constants\";\nimport {Sticky, StickyContainer} from \"react-sticky\";\nimport {TRXPrice} from \"./common/Price\";\nimport {WidgetIcon} from \"./common/Icon\";\n\nclass Accounts extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      loading: true,\n      searchString: \"\",\n      accounts: [],\n      total: 0,\n    }\n  }\n\n  componentDidMount() {\n    this.loadAccounts();\n  }\n\n  loadAccounts = async (page = 1,pageSize=40) => {\n\n    this.setState({ loading: true });\n\n    let {accounts, total} = await Client.getAccounts({\n      sort: '-balance',\n      limit: pageSize,\n      start: (page-1) * pageSize,\n    });\n\n    this.setState({\n      loading: false,\n      accounts,\n      total,\n    });\n  };\n\n  componentDidUpdate() {\n    //checkPageChanged(this, this.loadAccounts);\n  }\n  onChange = (page,pageSize) => {\n    this.loadAccounts(page,pageSize);\n  };\n  onSearchFieldChangeHandler = (e) => {\n    this.setState({\n      searchString: e.target.value,\n    });\n  };\n\n  filteredAccounts() {\n    let {accounts} = this.props;\n    let {searchString} = this.state;\n\n    searchString = searchString.toUpperCase();\n\n    if (searchString.length > 0) {\n      accounts = filter(accounts, a => a.address.toUpperCase().indexOf(searchString) !== -1);\n    }\n\n    return accounts;\n  }\n\n  renderAccounts() {\n\n    let {accounts} = this.state;\n\n    if (accounts.length === 0) {\n      return;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table table-striped m-0\">\n          <thead className=\"thead-dark\">\n          <tr>\n            <th>{tu(\"address\")}</th>\n            <th className=\"d-none d-md-table-cell\">{tu(\"supply\")}</th>\n            <th className=\"d-none d-md-table-cell\">{tu(\"power\")}</th>\n            <th>{tu(\"balance\")}</th>\n          </tr>\n          </thead>\n          <tbody>\n          {\n            accounts.map((account, index) => (\n              <tr key={account.address}>\n                <th>\n                  <AddressLink address={account.address} />\n                </th>\n                <td className=\"d-none d-md-table-cell text-nowrap\">\n                  <FormattedNumber\n                    value={(((account.balance / ONE_TRX) / CIRCULATING_SUPPLY) * 100)}\n                    minimumFractionDigits={8}\n                    maximumFractionDigits={8}\n                  /> %\n                </td>\n                <td className=\"text-nowrap d-none d-md-table-cell\">\n                  <FormattedNumber value={account.power / ONE_TRX}/>\n                </td>\n                <td className=\"text-nowrap\">\n                  <TRXPrice amount={account.balance / ONE_TRX}/>\n                </td>\n              </tr>\n            ))\n          }\n          </tbody>\n        </table>\n      </Fragment>\n    )\n  }\n\n  render() {\n\n    let {match} = this.props;\n    let {total, loading} = this.state;\n\n    return (\n      <main className=\"container header-overlap pb-3\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <div className=\"card h-100 text-center widget-icon\">\n              <WidgetIcon className=\"fa fa-users text-secondary\"  />\n              <div className=\"card-body\">\n                <h3 className=\"text-primary\">\n                  <FormattedNumber value={total}/>\n                </h3>\n                {tu(\"total_accounts\")}\n              </div>\n            </div>\n          </div>\n\n        </div>\n          <div className=\"row mt-2\">\n            <div className=\"col-md-12\">\n              <StickyContainer>\n                <div className=\"card mt-1\">\n                  <Sticky>\n                    {\n                      ({style}) => (\n                        <div className=\"card-body bg-white py-3 border-bottom\" style={{zIndex: 100, ...style}}>\n                          <Paging onChange={this.onChange} url={match.url} total={total} loading={loading} />\n                        </div>\n                      )\n                    }\n                  </Sticky>\n                  {this.renderAccounts()}\n                </div>\n              </StickyContainer>\n            </div>\n          </div>\n      </main>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    accounts: state.app.accounts,\n  };\n}\n\nconst mapDispatchToProps = {\n  loadAccounts,\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(Accounts))\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Accounts.js","import React from \"react\";\n\n\nexport function WidgetIcon({className, ...props}) {\n  return (\n    <span className=\"icon-big\" {...props}>\n      <i className={\" fa-7x \" + className} />\n    </span>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/Icon.js"],"sourceRoot":""}