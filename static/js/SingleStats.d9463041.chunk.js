webpackJsonp([10],{1089:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,l){try{var s=t[r](l),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return{priceGraph:e.markets.price}}Object.defineProperty(t,"__esModule",{value:!0});var c=a(5),u=n(c),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a(0),h=n(f),p=a(70),v=n(p),S=a(10),g=a(36),y=a(11),b=a(14),k=a(19),_=a(1217),E=a(30),w=a(434),x=n(w),O=a(1218),T=n(O),z=a(418),N=a(416),C=a(9),D=function(e){function t(){l(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={accounts:null,transactionStats:null,blockStats:null,transactionValueStats:null,txOverviewStats:null,addressesStats:null,blockSizeStats:null,blockchainSizeStats:null,priceStats:null,volumeStats:null,summit:null},e}return i(t,e),m(t,[{key:"componentDidMount",value:function(){this.loadAccounts(),this.loadStats(),this.loadTxOverviewStats()}},{key:"loadAccounts",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.default.mark(function e(){var t,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Client.getAccounts({limit:35,sort:"-balance"});case 2:t=e.sent,a=t.accounts,this.setState({accounts:(0,k.filter)(a,function(e){return!(0,k.includes)(_.tronAddresses,e.address)}).slice(0,10).map(function(e){return{name:e.address,value:e.balance/g.ONE_TRX}})});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadStats",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.default.mark(function e(){var t,a,n,r,l,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Client.getTransferStats({groupby:"timestamp",interval:"hour"});case 2:return t=e.sent,a=t.stats,e.next=6,S.Client.getBlockStats({info:"avg-block-size"});case 6:n=e.sent,r=n.stats,l=a.total.map(function(e){return{timestamp:e.timestamp,value:e.value}}),s=a.value.map(function(e){return{timestamp:e.timestamp,value:e.value/g.ONE_TRX}}),r=r.map(function(e){return{timestamp:e.timestamp,value:e.value}}),this.setState({transactionStats:l,transactionValueStats:s,blockStats:r});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadTxOverviewStats",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.default.mark(function e(){var t,a,n,r,l,s,i,o,c,m,f,h,p,g,y,b,_,E,w,x,O,T,z,N,C,D,j,B,L,P,A,R,M,I;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O=function(e){return function(t,a){return t[e]>a[e]?1:t[e]<a[e]?-1:0}},t=this.props.intl,a=new Date,n=a.getTime(),r=new Date("2017/10/10"),l=r.getTime(),s=Math.floor((n-l)/1e3/3600/24),e.next=9,v.default.get("https://min-api.cryptocompare.com/data/histoday?fsym=TRX&tsym=USD&limit="+s);case 9:return i=e.sent,o=i.data,c=o.Data,e.next=14,v.default.get("https://cors.io/?https://graphs2.coinmarketcap.com/currencies/tron/");case 14:return m=e.sent,f=m.data.volume_usd,h=f.map(function(e,a){return{time:e[0],volume_billion:e[1]/Math.pow(10,9),volume_usd:t.formatNumber(e[1])+" USD",volume_usd_num:e[1]}}),e.next=19,S.Client.getTxOverviewStats();case 19:p=e.sent,g=p.txOverviewStats,y=[],b=[],_=[],E=[];for(w in g)x=parseInt(w),0===x?(y.push(g[x]),b.push({date:g[x].date,total:g[x].newAddressSeen,increment:g[x].newAddressSeen})):(y.push({date:g[x].date,totalTransaction:g[x].totalTransaction-g[x-1].totalTransaction,avgBlockTime:g[x].avgBlockTime,avgBlockSize:g[x].avgBlockSize,totalBlockCount:g[x].totalBlockCount-g[x-1].totalBlockCount,newAddressSeen:g[x].newAddressSeen}),b.push({date:g[x].date,total:g[x].newAddressSeen+b[x-1].total,increment:g[x].newAddressSeen})),_.push({date:g[x].date,avgBlockSize:g[x].avgBlockSize}),E.push({date:g[x].date,blockchainSize:g[x].blockchainSize});this.setState({txOverviewStats:y,addressesStats:b,blockSizeStats:_,blockchainSizeStats:E,priceStats:c,volumeStats:h}),T={date:"",increment:""},z={date:"",increment:""},N=(0,k.cloneDeep)(b).sort(O("increment")),C=(0,k.cloneDeep)(y).sort(O("totalTransaction")),D=(0,k.cloneDeep)(_).sort(O("avgBlockSize")),j=(0,k.cloneDeep)(c).sort(O("close")),B=(0,k.cloneDeep)(h).sort(O("volume_usd_num"));for(L in j)j[L]=d({date:j[L].time},j[L]);for(P in B)B[P]=d({date:B[P].time},B[P]);A=[];for(R in E)M=parseInt(R),0===M?A.push({date:E[0].date,blockchainSize:E[0].blockchainSize/1e6}):A.push({date:E[M].date,blockchainSize:(E[M].blockchainSize-E[M-1].blockchainSize)/1e6});I=A.sort(O("blockchainSize")),this.setState({summit:{addressesStats_sort:[{date:N[N.length-1].date,increment:N[N.length-1].increment},{date:N[0].date,increment:N[0].increment}],txOverviewStats_sort:[{date:C[C.length-1].date,increment:C[C.length-1].totalTransaction},{date:C[0].date,increment:C[0].totalTransaction}],blockSizeStats_sort:[{date:D[D.length-1].date,increment:D[D.length-1].avgBlockSize},{date:D[0].date,increment:D[0].avgBlockSize}],blockchainSizeStats_sort:[{date:I[I.length-1].date,increment:I[I.length-1].blockchainSize},{date:I[0].date,increment:I[0].blockchainSize}],priceStats_sort:[{date:1e3*j[j.length-1].date,increment:j[j.length-1].close},{date:1e3*j[0].date,increment:j[0].close}],volumeStats_sort:[{date:B[B.length-1].date,increment:B[B.length-1].volume_usd_num},{date:B[0].date,increment:B[0].volume_usd_num}]}});case 40:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this.props,t=e.match,a=e.intl,n=this.state,r=n.txOverviewStats,l=n.addressesStats,s=n.blockSizeStats,i=n.blockchainSizeStats,o=n.priceStats,c=n.transactionStats,u=n.transactionValueStats,d=n.blockStats,m=n.accounts,f=n.volumeStats,p=n.summit,v=void 0;return v="blockchainSizeStats"===t.params.chartName||"addressesStats"===t.params.chartName?"increase":"number",h.default.createElement("main",{className:"container header-overlap"},h.default.createElement("div",{className:"alert alert-light",role:"alert"},h.default.createElement("div",{className:"row"},h.default.createElement("div",{className:"col-md-6 text-center"},p&&p[t.params.chartName+"_sort"]&&h.default.createElement("span",null,(0,C.t)("highest"),(0,C.t)(v),(0,C.t)("_of"),h.default.createElement("strong",null," "+p[t.params.chartName+"_sort"][0].increment+" "),(0,C.t)("was_recorded_on")," ",a.formatDate(p[t.params.chartName+"_sort"][0].date))),h.default.createElement("div",{className:"col-md-6 text-center"},p&&p[t.params.chartName+"_sort"]&&h.default.createElement("span",null,(0,C.t)("lowest"),(0,C.t)(v),(0,C.t)("_of"),h.default.createElement("strong",null," "+p[t.params.chartName+"_sort"][1].increment+" "),(0,C.t)("was_recorded_on")," ",a.formatDate(p[t.params.chartName+"_sort"][1].date))))),h.default.createElement("div",{className:"row"},h.default.createElement("div",{className:"col-md-12"},h.default.createElement("div",{className:"card"},h.default.createElement("div",{className:"card-body"},"txOverviewStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===r?h.default.createElement(E.TronLoader,null):h.default.createElement(z.LineReactTx,{source:"singleChart",style:{height:500},data:r,intl:a})),"addressesStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===l?h.default.createElement(E.TronLoader,null):h.default.createElement(z.LineReactAdd,{source:"singleChart",style:{height:500},data:l,intl:a})),"blockSizeStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===s?h.default.createElement(E.TronLoader,null):h.default.createElement(z.LineReactBlockSize,{source:"singleChart",style:{height:500},data:s,intl:a})),"blockchainSizeStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===i?h.default.createElement(E.TronLoader,null):h.default.createElement(z.LineReactBlockchainSize,{source:"singleChart",style:{height:500},data:i,intl:a})),"priceStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===o?h.default.createElement(E.TronLoader,null):h.default.createElement(z.LineReactPrice,{source:"singleChart",style:{height:500},data:o,intl:a})),"accounts"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===m?h.default.createElement(E.TronLoader,null):h.default.createElement(x.default,{style:{height:500},data:m})),"transactionValueStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===u?h.default.createElement(E.TronLoader,null):h.default.createElement(T.default,{message:{id:"trx_transferred_past_hour",href:"transactionValueStats"},style:{height:500},data:u,keysData:["timestamp","value"],format:{timestamp:!0}})),"transactionStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===c?h.default.createElement(E.TronLoader,null):h.default.createElement(T.default,{message:{id:"transactions_past_hour",href:"transactionStats"},style:{height:500},data:c,keysData:["timestamp","value"],format:{timestamp:!0}})),"blockStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===d?h.default.createElement(E.TronLoader,null):h.default.createElement(T.default,{message:{id:"average_blocksize",href:"blockStats"},style:{height:500},data:d,keysData:["timestamp","value"],format:{timestamp:!0}})),"volumeStats"===t.params.chartName&&h.default.createElement("div",{style:{height:500}},null===f?h.default.createElement(E.TronLoader,null):h.default.createElement(z.LineReactVolumeUsd,{source:"singleChart",style:{height:500},data:f,intl:a})))))))}}]),t}(h.default.Component),j={loadPriceData:N.loadPriceData};t.default=(0,y.connect)(o,j)((0,b.injectIntl)(D))},1217:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.tronAddresses=["27d3byPxZXKQWfXX7sJvemJJuv5M65F3vjS","27fXgQ46DcjEsZ444tjZPKULcxiUfDrDjqj","27SWXcHuQgFf9uv49FknBBBYBaH3DUk4JPx","27WtBq2KoSy5v8VnVZBZHHJcDuWNiSgjbE3"]},1218:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.LineReact=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(0),u=n(c),d=a(11),m=a(14),f=a(222),h=n(f),p=a(6),v=n(p);a(419),a(223),a(224);var S=t.LineReact=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=("_"+Math.random()).replace(".","_");return a.state={lineId:"line"+n},a}return s(t,e),o(t,[{key:"initLine",value:function(e){var t=this.props,a=t.intl,n=t.keysData,r=t.data,l=t.format,s=t.message,i=v.default.getInstanceByDom(document.getElementById(e));void 0===i&&(i=v.default.init(document.getElementById(e))),h.default.lineChart.title.text=a.formatMessage({id:s.id}),s.href&&(h.default.lineChart.title.link="#/blockchain/stats/"+s.href),h.default.lineChart.xAxis.data=[],h.default.lineChart.series[0].data=[],r&&r.length>0&&r.map(function(e){l&&l[n[0]]?l.date?h.default.lineChart.xAxis.data.push(a.formatDate(1e3*e[n[0]])):(10===(e[n[0]]+"").length&&h.default.lineChart.xAxis.data.push(a.formatTime(1e3*e[n[0]])),13===(e[n[0]]+"").length&&h.default.lineChart.xAxis.data.push(a.formatTime(e[n[0]]))):h.default.lineChart.xAxis.data.push(e[n[0]]),h.default.lineChart.series[0].data.push(e[n[1]])}),r&&0===r.length&&(h.default.lineChart.title.text="No data"),i.setOption(h.default.lineChart)}},{key:"componentDidMount",value:function(){this.initLine(this.state.lineId)}},{key:"componentDidUpdate",value:function(){this.initLine(this.state.lineId)}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("div",{id:this.state.lineId,style:this.props.style}))}}]),t}(u.default.Component),g={};t.default=(0,d.connect)(i,g,null,{pure:!1})((0,m.injectIntl)(S))}});
//# sourceMappingURL=SingleStats.d9463041.chunk.js.map